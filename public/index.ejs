<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>NewsHub - Read Short News</title>
		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
			crossorigin="anonymous"
		/>
		<!-- Bootstrap Icons -->
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
		/>
		<!-- Custom CSS -->
		<link rel="stylesheet" href="./style.css" />
	</head>

	<body>
		<!-- Header -->
		<header class="position-fixed top-0 start-0 w-100 header text-center">
			<a href="/" class="text-decoration-none fs-3 logo">NewsHub</a>

			<nav class="py-2 text-capitalize w-100 mx-auto categories">
				<a
					href="/"
					class="btn btn-secondary category <%= data.category === 'all' ? 'active' : '' %>"
					>Top_News</a
				>
				<a
					href="/national"
					class="btn btn-secondary category <%= data.category === 'national' ? 'active' : '' %>"
					>india</a
				>
				<a
					href="/world"
					class="btn btn-secondary category <%= data.category === 'world' ? 'active' : '' %>"
					>world</a
				>
				<a
					href="/business"
					class="btn btn-secondary category <%= data.category === 'business' ? 'active' : '' %>"
					>business</a
				>
				<a
					href="/sports"
					class="btn btn-secondary category <%= data.category === 'sports' ? 'active' : '' %>"
					>sports</a
				>
				<a
					href="/politics"
					class="btn btn-secondary category <%= data.category === 'politics' ? 'active' : '' %>"
					>politics</a
				>
				<a
					href="/technology"
					class="btn btn-secondary category <%= data.category === 'technology' ? 'active' : '' %>"
					>technology</a
				>
				<a
					href="/startup"
					class="btn btn-secondary category <%= data.category === 'startup' ? 'active' : '' %>"
					>startup</a
				>
				<a
					href="/entertainment"
					class="btn btn-secondary category <%= data.category === 'entertainment' ? 'active' : '' %>"
					>entertainment</a
				>
				<a
					href="/science"
					class="btn btn-secondary category <%= data.category === 'science' ? 'active' : '' %>"
					>science</a
				>
				<a
					href="/automobile"
					class="btn btn-secondary category <%= data.category === 'automobile' ? 'active' : '' %>"
					>automobile</a
				>
				<a
					href="/Unconventional"
					class="btn btn-secondary category <%= data.category === 'hatke' ? 'active' : '' %>"
					>Unconventional</a
				>
				<a
					href="/miscellaneous"
					class="btn btn-secondary category <%= data.category === 'miscellaneous' ? 'active' : '' %>"
					>miscellaneous</a
				>
			</nav>
		</header>

		<!-- Main -->
		<section
			class="container accordion accordion-flush news-cards"
			id="accordionFlushExample"
		>
			<% if(data){ %> <% data.data.forEach((news, idx) => { %>
			<div class="accordion-item mb-3 p-3 news-card">
				<div class="row">
					<img
						src="<%= news.imageUrl %>"
						class="img-fluid col-lg-4 col-sm-12 img"
						alt="news"
					/>
					<div class="col-lg-8 col-sm-12">
						<h2
							class="collapsed mb-1 news-title fs-4"
							style="color: #6b9080"
							data-bs-toggle="collapse"
							data-bs-target="#flush-<%= idx %>"
							aria-expanded="false"
							aria-controls="flush-<%= idx %>"
						>
							<%= news.title %>
						</h2>
						<div
							class="d-flex justify-content-between algin-item-center"
						>
							<span class="fs-6"
								><%= news.date %>, <%= news.time %></span
							>
							<span
								style="
									color: #6b9080;
									font-weight: bold;
									white-space: nowrap;
									font-size: 1rem;
								"
								><%= news.author %></span
							>
						</div>
						<div
							class="d-flex justify-content-between algin-item-center w-100 mt-4"
						>
							<div
								class="d-flex justify-content-center algin-item-center gap-2"
							>
								<span>Share :</span>
								<a
									href="https://www.facebook.com/sharer/sharer.php?u=<%= news.readMoreUrl %>"
									target="_blank"
								>
									<i
										class="bi bi-facebook"
										style="color: blue"
									></i>
								</a>
								<a
									href="https://twitter.com/intent/tweet?text=<%= news.title %>.&amp;img=<%= news.imageUrl %>&amp;url=<%= news.readMoreUrl %>&amp;via=NewsHub"
									target="_blank"
								>
									<i class="bi bi-twitter"></i>
								</a>
								<a
									style="color: green"
									href="https://api.whatsapp.com/send?text=<%= news.readMoreUrl %>"
									target="_blank"
								>
									<i class="bi bi-whatsapp"></i>
								</a>
							</div>
							<button
								class="collapsed btn read-btn"
								type="button"
								data-bs-toggle="collapse"
								data-bs-target="#flush-<%= idx %>"
								aria-expanded="false"
								aria-controls="flush-<%= idx %>"
							>
								Read More
								<i class="bi bi-arrow-down-circle-fill"></i>
							</button>
						</div>
					</div>
				</div>
				<div
					id="flush-<%= idx %>"
					class="accordion-collapse collapse content mt-2 py-2 px-3"
					data-bs-parent="#accordionFlushExample"
				>
					<p class="fs-6">
						<span
							style="
								color: #6b9080;
								font-size: medium;
								font-weight: bold;
							"
							>Read Short News : </span
						><%= news.content %>
					</p>
					<div
						class="d-flex justify-content-between algin-item-center mt-3"
					>
						<a href="<%= news.readMoreUrl %>" target="_blank">
							<button type="button" class="btn read-btn">
								Read Full News
								<i class="bi bi-arrow-up-right"></i>
							</button>
						</a>
						<button
							type="button"
							class="btn close-btn"
							data-bs-toggle="collapse"
							data-bs-target="#flush-<%= idx %>"
							aria-expanded="false"
							aria-controls="flush-<%= idx %>"
						>
							Close
							<i class="bi bi-x-lg" style="font-size: 0.8rem"></i>
						</button>
					</div>
				</div>
			</div>
			<% }) %> <% }else{ %>
			<div class="d-flex justify-content-center">
				<div class="spinner-border" role="status">
					<span class="sr-only">Loading...</span>
				</div>
			</div>
			<% } %>
		</section>
		<!-- Bootstrap JS -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
			crossorigin="anonymous"
		></script>

		<!-- Custom JS -->
		<script src="./script.js"></script>
	</body>
</html>
